(this["webpackJsonpto-do-list"]=this["webpackJsonpto-do-list"]||[]).push([[0],{55:function(e,t,i){},56:function(e,t,i){},58:function(e,t,i){},59:function(e,t,i){},76:function(e,t,i){},79:function(e,t,i){"use strict";i.r(t);var n=i(6),c=i.n(n),a=i(43),s=i.n(a),o=(i(55),i(26)),r=i(5),d=i(7),l=i(16),b=(i(56),i(50)),j=i(12),u=["value","onChange"];var h=function(e){var t=e.value,i=e.onChange,c=(Object(b.a)(e,u),Object(n.useState)(null)),a=Object(l.a)(c,2),s=a[0],o=a[1],r=Object(n.useRef)(null);return Object(n.useEffect)((function(){var t=r.current;t&&t.setSelectionRange(s,s),document.activeElement.id==e.id&&t&&t.scrollIntoView({behavior:"smooth",block:"nearest"})}),[r,s,t]),Object(j.jsx)("textarea",{id:e.id,ref:r,className:e.className,value:t,readOnly:e.readOnly,onChange:function(e){o(e.target.selectionStart),i&&i(e)},onClick:e.onClick,"aria-label":"List Item ".concat(t)})};var m=function(e){var t=Object(j.jsxs)("div",{id:e.editable?"editableItems":"nonEditableItems",children:[Object(j.jsx)("input",{type:"checkbox",id:e.id,checked:e.checked,disabled:e.editable,onChange:function(t){e.editable||e.onItemChanged(e.id,"checked",!e.checked)},"aria-label":e.checked?"Unmark ".concat(e.item," as completed."):"Mark ".concat(e.item," as completed.")}),Object(j.jsx)(h,{id:e.id,className:"".concat(e.editable?"editableItem":"nonEditableItem"," ").concat(e.checked?"checked":"unchecked"),value:e.item,readOnly:!e.editable,onChange:function(t){e.editable&&e.onItemChanged(e.id,"item",t.target.value)},onClick:function(){e.editable||e.onItemChanged(e.id,"checked",!e.checked)}}),e.editable?Object(j.jsxs)("select",{id:"priorityDropDownEditable",onChange:function(t){return e.onItemChanged(e.id,"priority",JSON.parse(t.target.value))},"aria-label":"Edit ".concat(e.item," priority."),children:[Object(j.jsx)("option",{value:"",children:e.priority.value}),"High"!==e.priority.value&&Object(j.jsx)("option",{value:' {"key": "c", "value": "High"}',children:"High"}),"Medium"!==e.priority.value&&Object(j.jsx)("option",{value:' {"key": "b", "value": "Medium"}',children:"Medium"}),"Low"!==e.priority.value&&Object(j.jsx)("option",{value:' {"key": "a", "value": "Low"}',children:"Low"})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{className:"".concat(e.checked?"checked":"unchecked"),id:"priority",children:e.priority.value}),Object(j.jsx)("button",{id:"deleteItem",onClick:function(){return e.onItemsDeleted([e.id])},"aria-label":"Delete ".concat(e.item),children:" x"})]})]});return Object(j.jsx)("div",{id:"listItem",children:t},e.id)};i(58);var O=function(e){return Object(j.jsx)("div",{className:"backdrop",children:Object(j.jsxs)("div",{id:"warning",children:[Object(j.jsx)("p",{children:"Are you sure you want to delete all completed items? This action is irreversible."}),Object(j.jsx)("button",{tabIndex:1,id:"cancel",onClick:e.onClose,"aria-label":"Do not delete items.",children:"Cancel"}),Object(j.jsx)("button",{tabIndex:2,id:"confirm",onClick:function(t){e.onItemsDeleted(e.data.filter((function(e){return e.checked})).map((function(e){return e.id}))),e.onClose()},"aria-label":"Delete all items. This action is irreversible.",children:"Confirm"})]})})},v=(i(59),i(27)),p=i(49),x=i.n(p);var f=function(e){var t=Object(n.useState)(!1),i=Object(l.a)(t,2),c=i[0],a=i[1],s=Object(n.useState)(!1),r=Object(l.a)(s,2),d=r[0],b=r[1],u=Object(n.useState)(!1),h=Object(l.a)(u,2),p=h[0],f=h[1],g=Object(n.useState)(""),L=Object(l.a)(g,2),k=L[0],C=L[1],y=Object(n.useState)({key:0,value:"---"}),I=Object(l.a)(y,2),S=I[0],N=I[1],D=Object(n.useState)(!1),w=Object(l.a)(D,2),E=w[0],F=w[1],B=e.data.map((function(t){return Object(j.jsx)(m,Object(o.a)({id:t.id,item:t.item,checked:t.checked,editable:d,onItemChanged:e.onItemChanged,created:t.created,priority:t.priority,onItemsDeleted:e.onItemsDeleted},t),t.id)})),A=B.filter((function(e){return!e.props.checked})),P={created:{name:"Creation Date",desc:"New \u2192 Old",asc:"Old \u2192 New"},item:{name:"Name",desc:"Z \u2192 A",asc:"A \u2192 Z"},priority:{name:"Priority",desc:"High \u2192 Low",asc:"Low \u2192 High"}},T=[];for(var H in P)if("order"!==H)for(var K=0,M=["desc","asc"];K<M.length;K++){var G=M[K];e.sortField===H&&e.sortDirection===G||T.push(Object(j.jsxs)("option",{value:"".concat(H," ").concat(G),children:["Sort by ",P[H].name,": ",P[H][G]]}))}return Object(j.jsxs)("div",{id:"list",children:[Object(j.jsx)("button",{id:"backButton",onClick:function(){e.setSelectedListID(" "),e.setSelectedListName(" ")},"aria-label":"Back button to see all lists",children:"\u2190 "}),E?Object(j.jsxs)("div",{className:"listName",children:[Object(j.jsx)("input",{value:e.selectedListName,onChange:function(t){return e.onListNameChanged(e.selectedListID,t.target.value)},onKeyPress:function(e){"Enter"===e.key&&F(!1)},"aria-label":"Edit List Name"}),Object(j.jsx)("button",{onClick:function(){return F(!1)},"aria-label":"Save List Name",children:"\u2705"})]}):Object(j.jsxs)("div",{className:"listName",children:[Object(j.jsxs)("h1",{"aria-label":"List Name",children:[e.selectedListName," "]}),Object(j.jsx)("button",{onClick:function(){return F(!0)},"aria-label":"Click to Edit List Name",children:"\u270f\ufe0f"})]}),Object(j.jsxs)("div",{id:"inputBox_Button",children:[Object(j.jsx)("button",{id:"addItem",tabindex:"-1",className:k?"enabled":"disabled",onClick:function(t){""!==k&&(e.onItemAdded(k,S),C(""))},children:"+"}),Object(j.jsx)("input",{id:"inputText",type:"text",placeholder:"Enter text here...",onChange:function(e){return C(e.target.value)},onKeyPress:function(t){"Enter"===t.key&&""!==k&&(e.onItemAdded(k,S),C(""))},value:k,disabled:d,"aria-label":"Enter new list item"})]}),Object(j.jsxs)("select",{id:"selectPriority",onChange:function(e){return N(JSON.parse(e.target.value))},disabled:d,onKeyPress:function(t){"Enter"===t.key&&""!==k&&(e.onItemAdded(k,S),C(""))},"aria-label":"Select new list item priority",children:[Object(j.jsx)("option",{value:'{"key": "0", "value": "--"}',children:"--Set Priority--"}),Object(j.jsx)("option",{value:'{"key": "c", "value": "High"}',children:"High"}),Object(j.jsx)("option",{value:'{"key": "b", "value": "Medium"}',children:"Medium"}),Object(j.jsx)("option",{value:'{"key": "a", "value": "Low"}',children:"Low"})]}),0!==B.length&&Object(j.jsx)("div",{id:"sortItems",children:Object(j.jsxs)("select",{id:"sortDropDown",onChange:function(t){return e.onSortItems(t.target.value)},disabled:d,children:[Object(j.jsxs)("option",{value:"",children:["Sort by ",P[e.sortField].name,": ",P[e.sortField][e.sortDirection]]}),T]})}),(0!==B.length||d)&&Object(j.jsx)("div",{id:"editButton",children:Object(j.jsxs)("button",{onClick:function(){return b(!d)},"aria-label":d?"Finished Editing":"Edit List Items",children:[" ",d?"Done":"Edit Items"," "]})}),Object(j.jsxs)("div",{id:"listItems",children:[0!==B.length&&Object(j.jsxs)("div",{id:"labels",children:[Object(j.jsx)("h2",{children:"Item"}),Object(j.jsx)("h2",{children:"Priority"})]}),Object(j.jsx)(v.CSSTransitionGroup,{transitionName:"fade",transitionEnter:10,transitionLeave:10,children:c?A:B})]}),p&&Object(j.jsx)(O,{data:e.data,onItemsDeleted:e.onItemsDeleted,onClose:function(){return f(!1)}}),A.length!==B.length&&Object(j.jsxs)("div",{id:"hideCompletedItems",children:[Object(j.jsx)("label",{className:"toggleLabel",htmlFor:"showCompletedItems",children:"Hide Completed Items"}),Object(j.jsx)(x.a,{id:"showCompletedItems",onChange:function(){return a(!c)}})]}),A.length!==B.length&&!d&&!c&&Object(j.jsx)("button",{id:"deleteCompleted",onClick:function(){return f(!0)},children:"Delete Completed Items"})]})},g=(i(76),i(36)),L=i(30),k="lists";var C=function(e){var t=Object(n.useState)(""),i=Object(l.a)(t,2),c=i[0],a=i[1],s=e.db.collection(k).orderBy(e.sortListField,e.sortListDirection),r=(e.db.collection(k),Object(g.a)(s)),d=Object(l.a)(r,3),b=d[0],u=d[1],h=(d[2],Object(L.b)({loading:!0,indicator:Object(j.jsx)(L.a,{width:"30"})})),m=h.containerProps,O=h.indicatorEl;if(u)return Object(j.jsxs)("div",{className:"loading",children:[Object(j.jsx)("h1",{children:" Hang tight..."}),Object(j.jsxs)("section",Object(o.a)(Object(o.a)({},m),{},{children:[O," "]}))]});var p=null;b&&(p=b.docs.map((function(e){return e.data()})));var x={created:{name:"Creation Date",asc:"Old \u2192 New",desc:"New \u2192 Old"},name:{name:"Name",desc:"Z \u2192 A",asc:"A \u2192 Z"}},f=[];for(var C in x)if("order"!==C)for(var y=0,I=["desc","asc"];y<I.length;y++){var S=I[y];e.sortListField===C&&e.sortListDirection===S||f.push(Object(j.jsxs)("option",{value:"".concat(C," ").concat(S),children:["Sort by ",x[C].name,": ",x[C][S]]}))}var N=p.map((function(t){return Object(j.jsxs)("div",{id:"li",children:[Object(j.jsx)("p",{id:"listName",tabIndex:0,onClick:function(){e.setSelectedListID(t.id),e.setSelectedListName(t.name)},onKeyPress:function(i){"Enter"!==i.key&&" "!==i.key||(e.setSelectedListID(t.id),e.setSelectedListName(t.name))},role:"button","aria-label":"Select List with Name ".concat(t.name),children:t.name}),Object(j.jsx)("button",{id:"deleteList",onClick:function(){return e.onListDeleted(t.id)},"aria-label":"Delete List with Name ".concat(t.name),children:"x"})]})}));return Object(j.jsxs)("div",{id:"lists",children:[Object(j.jsx)("h1",{children:"To-Do Lists"}),Object(j.jsxs)("div",{id:"newListComponents",children:[Object(j.jsx)("button",{id:"addList",tabIndex:"-1",className:c?"enabled":"disabled",onClick:function(t){""!==c&&(e.onListAdded(c),a(""))},children:"+"}),Object(j.jsx)("input",{id:"inputList",type:"text",placeholder:"Create New List...","aria-label":"Create new List with name ".concat(c),onChange:function(e){return a(e.target.value)},onKeyPress:function(t){"Enter"===t.key&&""!==c&&(e.onListAdded(c),a(""))},value:c})]}),0!==N.length&&Object(j.jsx)("div",{id:"sortList",children:Object(j.jsxs)("select",{id:"sortDropDown",onChange:function(t){return e.onSortLists(t.target.value)},children:[Object(j.jsxs)("option",{value:"",children:["Sort by ",x[e.sortListField].name,":",x[e.sortListField][e.sortListDirection]]}),f]})}),Object(j.jsxs)("div",{id:"listsDiv",children:[Object(j.jsx)("h2",{id:"yourLists",children:"Your Lists"}),Object(j.jsx)(v.CSSTransitionGroup,{transitionName:"fade",transitionEnter:300,transitionLeave:300,children:N})]})]})},y=i(44),I=i(33);I.a.initializeApp({apiKey:"AIzaSyB6K4Ycqr1bST4Zkkr_tTKRzEOQ5n9aY6o",authDomain:"cs124-lab3-33ef0.firebaseapp.com",projectId:"cs124-lab3-33ef0",storageBucket:"cs124-lab3-33ef0.appspot.com",messagingSenderId:"283056924726",appId:"1:283056924726:web:12cc1133aa2ec5ffba1097",measurementId:"G-E3QVKSNMGJ"});var S=I.a.firestore(),N="to-do-list";var D=function(){var e=Object(n.useState)(" "),t=Object(l.a)(e,2),i=t[0],c=t[1],a=Object(n.useState)(" "),s=Object(l.a)(a,2),b=s[0],u=s[1],h=Object(n.useState)("created"),m=Object(l.a)(h,2),O=m[0],p=m[1],x=Object(n.useState)("desc"),k=Object(l.a)(x,2),D=k[0],w=k[1],E=Object(n.useState)("created"),F=Object(l.a)(E,2),B=F[0],A=F[1],P=Object(n.useState)("desc"),T=Object(l.a)(P,2),H=T[0],K=T[1],M=S.collection("lists").doc(i).collection(N).orderBy(O,D),G=S.collection("lists").doc(i).collection(N),J=Object(g.a)(M),Z=Object(l.a)(J,3),V=Z[0],z=Z[1];Z[2];var R=Object(L.b)({loading:!0,indicator:Object(j.jsx)(L.a,{width:"30"})}),Y=R.containerProps,Q=R.indicatorEl;if(z)return Object(j.jsxs)("div",{className:"loading",children:[Object(j.jsx)("h1",{children:" Hang tight..."}),Object(j.jsxs)("section",Object(o.a)(Object(o.a)({},Y),{},{children:[Q," "]}))]});var _=null;return V&&(_=V.docs.map((function(e){return e.data()}))),Object(j.jsx)("div",{id:"app",children:" "!==i?Object(j.jsx)(v.CSSTransitionGroup,{transitionName:"fade",transitionEnter:300,transitionLeave:300,children:Object(j.jsx)(f,{data:_,onItemAdded:function(e,t){var i=Object(y.a)(),n={id:i,item:e,checked:!1,created:I.a.firestore.FieldValue.serverTimestamp(),priority:t};G.doc(i).set(n)},onItemsDeleted:function(e){var t,i=Object(d.a)(e);try{for(i.s();!(t=i.n()).done;){var n=t.value;G.doc(n).delete()}}catch(c){i.e(c)}finally{i.f()}},onItemChanged:function(e,t,i){G.doc(e).update(Object(r.a)({},t,i))},onSortItems:function(e){var t=e.split(" "),i=Object(l.a)(t,2),n=i[0],c=i[1];p(n),w(c)},onListNameChanged:function(e,t){u(t),S.collection("lists").doc(e).update({name:t})},sortDirection:D,sortField:O,selectedListID:i,setSelectedListID:c,selectedListName:b,setSelectedListName:u})}):Object(j.jsx)(C,{db:S,setSelectedListID:c,setSelectedListName:u,collection:G,data:_,onListAdded:function(e){var t=Object(y.a)(),i={id:t,name:e,created:I.a.firestore.FieldValue.serverTimestamp()};S.collection("lists").doc(t).set(i)},onListDeleted:function(e){S.collection("lists").doc(e).delete()},sortListField:B,sortListDirection:H,setSortListField:A,setSortListDiretion:K,onSortLists:function(e){var t=e.split(" "),i=Object(l.a)(t,2),n=i[0],c=i[1];A(n),K(c)}})})},w=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,80)).then((function(t){var i=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;i(e),n(e),c(e),a(e),s(e)}))};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(D,{initialData:[{id:0,item:"Buy new John Grisham Book",checked:!1},{id:1,item:"Buy newer John Grisham Book",checked:!0}]})}),document.getElementById("root")),w()}},[[79,1,2]]]);
//# sourceMappingURL=main.7575e8f5.chunk.js.map