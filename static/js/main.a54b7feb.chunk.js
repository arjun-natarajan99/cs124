(this["webpackJsonpto-do-list"]=this["webpackJsonpto-do-list"]||[]).push([[0],{50:function(e,t,i){},58:function(e,t,i){},59:function(e,t,i){},61:function(e,t,i){},62:function(e,t,i){},79:function(e,t,i){},82:function(e,t,i){},83:function(e,t,i){"use strict";i.r(t);var n=i(6),c=i.n(n),a=i(45),s=i.n(a),r=(i(58),i(5)),o=i(8),l=i(17),d=i(25),u=i(14),h=(i(59),i(53)),j=i(7),b=["value","onChange"];var O=function(e){var t=e.value,i=e.onChange,c=(Object(h.a)(e,b),Object(n.useState)(null)),a=Object(u.a)(c,2),s=a[0],r=a[1],o=Object(n.useRef)(null);return Object(n.useEffect)((function(){var t=o.current;t&&t.setSelectionRange(s,s),document.activeElement.id===e.id&&t&&t.scrollIntoView({behavior:"smooth",block:"nearest"})}),[o,s,t]),Object(j.jsx)("textarea",{id:e.id,ref:o,className:e.className,value:t,readOnly:e.readOnly,onChange:function(e){r(e.target.selectionStart),i&&i(e)},onClick:e.onClick,"aria-label":"List Item ".concat(t)})};var m=function(e){var t=Object(j.jsxs)("div",{id:e.editable?"editableItems":"nonEditableItems",children:[Object(j.jsx)("input",{type:"checkbox",id:e.id,checked:e.checked,disabled:e.editable,onChange:function(t){e.editable||e.onItemChanged(e.id,"checked",!e.checked)},"aria-label":e.checked?"Unmark ".concat(e.item," as completed."):"Mark ".concat(e.item," as completed.")}),Object(j.jsx)(O,{id:e.id,className:"".concat(e.editable?"editableItem":"nonEditableItem"," ").concat(e.checked?"checked":"unchecked"),value:e.item,readOnly:!e.editable,onChange:function(t){e.editable&&e.onItemChanged(e.id,"item",t.target.value)},onClick:function(){e.editable||e.onItemChanged(e.id,"checked",!e.checked)}}),e.editable?Object(j.jsxs)("select",{id:"priorityDropDownEditable",onChange:function(t){return e.onItemChanged(e.id,"priority",JSON.parse(t.target.value))},"aria-label":"Edit ".concat(e.item," priority."),children:[Object(j.jsx)("option",{value:"",children:e.priority.value}),"High"!==e.priority.value&&Object(j.jsx)("option",{value:' {"key": "c", "value": "High"}',children:"High"}),"Medium"!==e.priority.value&&Object(j.jsx)("option",{value:' {"key": "b", "value": "Medium"}',children:"Medium"}),"Low"!==e.priority.value&&Object(j.jsx)("option",{value:' {"key": "a", "value": "Low"}',children:"Low"})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{className:"".concat(e.checked?"checked":"unchecked"),id:"priority",children:e.priority.value}),Object(j.jsx)("button",{id:"deleteItem",onClick:function(){return e.onItemsDeleted([e.id])},"aria-label":"Delete ".concat(e.item),children:" x"})]})]});return Object(j.jsx)("div",{id:"listItem",children:t},e.id)};i(61);var p=function(e){return Object(j.jsx)("div",{className:"backdrop",children:Object(j.jsxs)("div",{className:"warningPopup",children:[Object(j.jsx)("p",{children:"Are you sure you want to delete all completed items? This action is irreversible."}),Object(j.jsx)("button",{tabIndex:1,id:"cancel",onClick:e.onClose,"aria-label":"Do not delete items.",children:"Cancel"}),Object(j.jsx)("button",{tabIndex:2,id:"confirm",onClick:function(t){e.onItemsDeleted(e.data.filter((function(e){return e.checked})).map((function(e){return e.id}))),e.onClose()},"aria-label":"Delete all items. This action is irreversible.",children:"Confirm"})]})})},x=(i(62),i(28)),f=i(52),S=i.n(f);i(50);var g=function(e){var t=Object(n.useState)([]),i=Object(u.a)(t,2),c=i[0],a=i[1],s=Object(n.useState)(""),r=Object(u.a)(s,2),o=r[0],d=r[1],h=Object(n.useState)(!1),b=Object(u.a)(h,2),O=b[0],m=b[1],p=Object(n.useState)(!1),x=Object(u.a)(p,2),f=x[0],S=x[1],g=Object(n.useState)(!1),v=Object(u.a)(g,2),y=v[0],w=v[1];function L(){""===o||o===e.user.email||e.showShareScreenEmails.includes(o)||c.includes(o)||!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(o)||(a([].concat(Object(l.a)(c),[o])),d(""),S(!1),m(!1),w(!1)),/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(o)||(S(!0),m(!1),w(!1)),o===e.user.email&&(m(!0),S(!1),w(!1)),(e.showShareScreenEmails.includes(o)||c.includes(o))&&(w(!0),S(!1),m(!1))}return Object(j.jsx)("div",{className:"backdrop",children:Object(j.jsxs)("div",{className:"sharePopup",children:[Object(j.jsx)("p",{id:"description",children:" Who would you like to share this list with? Enter their emails below:"}),Object(j.jsx)("button",{id:"addUser",className:"button ".concat(o?"enabled":"disabled"),onClick:function(e){L()},children:" +"}),Object(j.jsx)("input",{type:"text",required:!0,id:"emailInput",placeholder:"Enter email here...",onChange:function(e){return d(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&L()},value:o}),O&&Object(j.jsx)("p",{className:"shareWarning",children:"You cannot share a list with yourself."}),y&&Object(j.jsx)("p",{className:"shareWarning",children:"This list is already shared with this user."}),f&&Object(j.jsx)("p",{className:"shareWarning",children:"You must enter a valid email."}),Object(j.jsx)("p",{id:"disclaimer",children:" Note that these users will only be able to access a shared list once they have verified their account."}),Object(j.jsxs)("div",{id:"shareWith",children:[Object(j.jsx)("h3",{children:" Share With:"}),Object(j.jsx)("ul",{className:"emails",children:c.map((function(e){return Object(j.jsx)("li",{className:"email",onClick:function(){return a(c.filter((function(t){return t!==e})))},children:e})}))})]}),Object(j.jsxs)("div",{id:"alreadyShared",children:[Object(j.jsx)("h3",{children:" Already Shared With:"}),Object(j.jsx)("ul",{className:"emails",children:e.showShareScreenEmails.map((function(t){return Object(j.jsx)("li",{className:"email",onClick:function(){return e.onListUnshared(e.showShareScreenID,t,!0)},children:t})}))})]}),Object(j.jsxs)("div",{id:"buttons",children:[0!==c.length&&Object(j.jsx)("button",{id:"share",onClick:function(){e.onListShared(e.showShareScreenID,c),e.setShowShareScreenID(null)},children:"Share"}),Object(j.jsx)("button",{id:"cancelShare",onClick:function(){return e.setShowShareScreenID(null)},"aria-label":"Cancel sharing.",children:" Cancel"})]})]})})},v=i.p+"static/media/share.29ce786d.png";var y=function(e){var t=Object(n.useState)(!1),i=Object(u.a)(t,2),c=i[0],a=i[1],s=Object(n.useState)(!1),r=Object(u.a)(s,2),o=r[0],l=r[1],h=Object(n.useState)(!1),b=Object(u.a)(h,2),O=b[0],f=b[1],y=Object(n.useState)(""),w=Object(u.a)(y,2),L=w[0],C=w[1],k=Object(n.useState)({key:0,value:"---"}),I=Object(u.a)(k,2),N=I[0],D=I[1],E=Object(n.useState)(!1),P=Object(u.a)(E,2),A=P[0],B=P[1],F=e.data.map((function(t){return Object(j.jsx)(m,Object(d.a)({id:t.id,item:t.item,checked:t.checked,editable:o,onItemChanged:e.onItemChanged,created:t.created,priority:t.priority,onItemsDeleted:e.onItemsDeleted},t),t.id)})),U=F.filter((function(e){return!e.props.checked})),W={created:{name:"Creation Date",desc:"New \u2192 Old",asc:"Old \u2192 New"},item:{name:"Name",desc:"Z \u2192 A",asc:"A \u2192 Z"},priority:{name:"Priority",desc:"High \u2192 Low",asc:"Low \u2192 High"}},H=[];for(var T in W)if("order"!==T)for(var G=0,K=["desc","asc"];G<K.length;G++){var M=K[G];e.sortField===T&&e.sortDirection===M||H.push(Object(j.jsxs)("option",{value:"".concat(T," ").concat(M),children:["Sort by ",W[T].name,": ",W[T][M]]}))}return Object(j.jsxs)("div",{id:"list",children:[Object(j.jsx)("button",{id:"backButton",onClick:function(){e.setSelectedListID(" "),e.setSelectedListName(" ")},"aria-label":"Back button to see all lists",children:"\u2190 "}),A?Object(j.jsxs)("div",{className:"listName",children:[Object(j.jsx)("input",{value:e.selectedListName,onChange:function(t){return e.onListNameChanged(e.id,t.target.value)},onKeyPress:function(e){"Enter"===e.key&&B(!1)},"aria-label":"Edit List Name"}),Object(j.jsx)("button",{onClick:function(){return B(!1)},"aria-label":"Save List Name",children:"\u2705"})]}):Object(j.jsxs)("div",{className:"listName",children:[Object(j.jsxs)("h1",{"aria-label":"List Name",children:[e.selectedListName," "]}),Object(j.jsx)("button",{onClick:function(){return B(!0)},"aria-label":"Click to Edit List Name",children:"\u270f\ufe0f"})]}),e.showShareScreenEmails&&Object(j.jsx)("input",{type:"image",src:v,alt:"share list",id:"shareListsFromList",onClick:function(){return e.setShowShareScreenID(e.id)}}),Object(j.jsxs)("div",{id:"inputBox_Button",children:[Object(j.jsx)("button",{id:"addItem",tabindex:"-1",className:L?"enabled":"disabled",onClick:function(t){""!==L&&(e.onItemAdded(L,N),C(""))},children:"+"}),Object(j.jsx)("input",{id:"inputText",type:"text",placeholder:"Enter text here...",onChange:function(e){return C(e.target.value)},onKeyPress:function(t){"Enter"===t.key&&""!==L&&(e.onItemAdded(L,N),C(""))},value:L,disabled:o,"aria-label":"Enter new list item"})]}),Object(j.jsxs)("select",{id:"selectPriority",onChange:function(e){return D(JSON.parse(e.target.value))},disabled:o,onKeyPress:function(t){"Enter"===t.key&&""!==L&&(e.onItemAdded(L,N),C(""))},"aria-label":"Select new list item priority",children:[Object(j.jsx)("option",{value:'{"key": "0", "value": "--"}',children:"--Set Priority--"}),Object(j.jsx)("option",{value:'{"key": "c", "value": "High"}',children:"High"}),Object(j.jsx)("option",{value:'{"key": "b", "value": "Medium"}',children:"Medium"}),Object(j.jsx)("option",{value:'{"key": "a", "value": "Low"}',children:"Low"})]}),0!==F.length&&Object(j.jsx)("div",{id:"sortItems",children:Object(j.jsxs)("select",{id:"sortDropDown",onChange:function(t){return e.onSortItems(t.target.value)},disabled:o,children:[Object(j.jsxs)("option",{value:"",children:["Sort by ",W[e.sortField].name,": ",W[e.sortField][e.sortDirection]]}),H]})}),(0!==F.length||o)&&Object(j.jsx)("div",{id:"editButton",children:Object(j.jsxs)("button",{onClick:function(){return l(!o)},"aria-label":o?"Finished Editing":"Edit List Items",children:[" ",o?"Done":"Edit Items"," "]})}),Object(j.jsxs)("div",{id:"listItems",children:[0!==F.length&&Object(j.jsxs)("div",{id:"labels",children:[Object(j.jsx)("h2",{children:"Item"}),Object(j.jsx)("h2",{children:"Priority"})]}),Object(j.jsx)(x.CSSTransitionGroup,{transitionName:"fade",transitionEnter:10,transitionLeave:10,children:c?U:F})]}),O&&Object(j.jsx)(p,{data:e.data,onItemsDeleted:e.onItemsDeleted,onClose:function(){return f(!1)}}),U.length!==F.length&&Object(j.jsxs)("div",{id:"hideCompletedItems",children:[Object(j.jsx)("label",{className:"toggleLabel",htmlFor:"showCompletedItems",children:"Hide Completed Items"}),Object(j.jsx)(S.a,{id:"showCompletedItems",onChange:function(){return a(!c)}})]}),U.length!==F.length&&!o&&!c&&Object(j.jsx)("button",{id:"deleteCompleted",onClick:function(){return f(!0)},children:"Delete Completed Items"}),null!==e.showShareScreenID&&Object(j.jsx)(g,{onListShared:e.onListShared,showShareScreenID:e.showShareScreenID,setShowShareScreenID:e.setShowShareScreenID,showShareScreenEmails:e.showShareScreenEmails,onListUnshared:e.onListUnshared,user:e.user})]})},w=(i(79),i(34)),L=i(27),C=i.p+"static/media/dropdown.6d70dc3f.png",k=i(38);var I=function(e){var t=Object(n.useState)(""),i=Object(u.a)(t,2),c=i[0],a=i[1],s=Object(n.useState)(!1),r=Object(u.a)(s,2),o=r[0],l=r[1],h=Object(k.useMediaQuery)({maxWidth:650}),b=Object(L.b)({loading:!0,indicator:Object(j.jsx)(L.a,{width:"30"})}),O=b.containerProps,m=b.indicatorEl;if(e.loading)return Object(j.jsxs)("div",{className:"loading",children:[Object(j.jsx)("h1",{children:" Hang tight..."}),Object(j.jsxs)("section",Object(d.a)(Object(d.a)({},O),{},{children:[m," "]}))]});var p={created:{name:"Creation Date",asc:"Old \u2192 New",desc:"New \u2192 Old"},name:{name:"Name",desc:"Z \u2192 A",asc:"A \u2192 Z"}},f=[];for(var S in p)if("order"!==S)for(var y=0,w=["desc","asc"];y<w.length;y++){var I=w[y];e.sortListField===S&&e.sortListDirection===I||f.push(Object(j.jsxs)("option",{value:"".concat(S," ").concat(I),children:["Sort by ",p[S].name,": ",p[S][I]]}))}function N(t,i){return Object(j.jsxs)("div",{id:"li",children:[Object(j.jsx)("p",{id:"listName",tabIndex:0,onClick:function(){e.setSelectedListID(t.id),e.setSelectedListName(t.name)},onKeyPress:function(i){"Enter"!==i.key&&" "!==i.key||(e.setSelectedListID(t.id),e.setSelectedListName(t.name))},role:"button","aria-label":"Select List with Name ".concat(t.name),children:t.name}),i&&Object(j.jsx)("input",{type:"image",id:"shareLists",src:v,alt:"share list",onClick:function(){e.setShowShareScreenID(t.id),e.setShowShareScreenEmails(t.sharedWith)}}),i&&Object(j.jsx)("button",{className:"listsButton",id:"deleteList",onClick:function(){return e.onListDeleted(t.id)},"aria-label":"Delete List with Name ".concat(t.name),children:"x"}),!i&&Object(j.jsx)("button",{className:"listsButton",onClick:function(){return e.onListUnshared(t.id,e.user.email,!1)},children:" Unshare with Me"})]})}var D=e.data.map((function(e){return N(e,!0)})),E=e.sharedData.map((function(e){return N(e,!1)}));return Object(j.jsxs)("div",{id:"lists",children:[Object(j.jsx)("h1",{children:"To-Do Lists"}),h?Object(j.jsxs)("div",{id:"verifyAndLogout",children:[!e.user.emailVerified&&Object(j.jsx)("button",{type:"button",id:"verify",onClick:e.verifyEmail,children:"Verify email"}),Object(j.jsx)("button",{type:"button",id:"alternateLogOut",onClick:function(){return e.auth.signOut()},children:"Log Out"})]}):Object(j.jsxs)("div",{id:"usernameLogOut",children:[Object(j.jsxs)("p",{id:"username",onClick:function(){return l(!o)},children:[!h&&e.user.email,Object(j.jsx)("input",{type:"image",src:C,alt:"dropdown"})]}),o&&!e.user.emailVerified&&Object(j.jsx)("button",{type:"button",id:"verify",onClick:e.verifyEmail,children:"Verify email"}),o&&Object(j.jsx)("button",{type:"button",id:"logOut",onClick:function(){return e.auth.signOut()},children:"Log Out"})]}),Object(j.jsxs)("div",{id:"newListComponents",children:[Object(j.jsx)("button",{id:"addList",tabIndex:"-1",className:"listsButton ".concat(c?"enabled":"disabled"),onClick:function(t){""!==c&&(e.onListAdded(c),a(""))},children:"+"}),Object(j.jsx)("input",{id:"inputList",type:"text",placeholder:"Create New List...","aria-label":"Create new List with name ".concat(c),onChange:function(e){return a(e.target.value)},onKeyPress:function(t){"Enter"===t.key&&""!==c&&(e.onListAdded(c),a(""))},value:c})]}),D.length+E.length!==0&&Object(j.jsx)("div",{id:"sortList",children:Object(j.jsxs)("select",{id:"sortDropDown",onChange:function(t){return e.onSortLists(t.target.value)},children:[Object(j.jsxs)("option",{value:"",children:["Sort by ",p[e.sortListField].name,":",p[e.sortListField][e.sortListDirection]]}),f]})}),Object(j.jsxs)("div",{id:"listsDiv",children:[Object(j.jsx)("h2",{id:"yourListsHeader",children:"Your Lists"}),Object(j.jsx)("div",{className:"lists",children:Object(j.jsx)(x.CSSTransitionGroup,{transitionName:"fade",transitionEnter:300,transitionLeave:300,children:D})}),Object(j.jsx)("h2",{id:"sharedLists",children:"Lists Shared with You"}),Object(j.jsx)("div",{className:"lists",children:Object(j.jsx)(x.CSSTransitionGroup,{transitionName:"fade",transitionEnter:300,transitionLeave:300,children:E})})]}),null!==e.showShareScreenID&&Object(j.jsx)(g,{onListShared:e.onListShared,showShareScreenID:e.showShareScreenID,setShowShareScreenID:e.setShowShareScreenID,showShareScreenEmails:e.showShareScreenEmails,onListUnshared:e.onListUnshared,user:e.user})]})},N=i(46),D=i(29),E=i(41),P=(i(82),i.p+"static/media/google-logo.0590aaf0.png");D.a.initializeApp({apiKey:"AIzaSyB6K4Ycqr1bST4Zkkr_tTKRzEOQ5n9aY6o",authDomain:"cs124-lab3-33ef0.firebaseapp.com",projectId:"cs124-lab3-33ef0",storageBucket:"cs124-lab3-33ef0.appspot.com",messagingSenderId:"283056924726",appId:"1:283056924726:web:12cc1133aa2ec5ffba1097",measurementId:"G-E3QVKSNMGJ"});var A=D.a.firestore(),B=D.a.auth(),F=new D.a.auth.GoogleAuthProvider,U="to-do-list",W="lists5";function H(){var e=Object(E.c)(B),t=Object(u.a)(e,4),i=t[0],c=t[1],a=t[2],s=t[3],r=Object(n.useState)(null),o=Object(u.a)(r,2),l=o[0],d=o[1],h=Object(n.useState)(null),b=Object(u.a)(h,2),O=b[0],m=b[1],p=Object(k.useMediaQuery)({maxWidth:540});return c?Object(j.jsx)("div",{children:"Unexpectedly signed in already"}):a?Object(j.jsx)("p",{children:"Logging in\u2026"}):Object(j.jsxs)("div",{children:[s&&Object(j.jsxs)("p",{children:['"Error logging in: " ',s.message]}),Object(j.jsxs)("div",{className:"inputs",children:[Object(j.jsx)("input",{type:"text",id:"email",placeholder:"Email",onChange:function(e){return d(e.target.value)}}),Object(j.jsx)("input",{type:"password",id:"password",placeholder:"Password",onChange:function(e){return m(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&i(l,O)}})]}),Object(j.jsx)("button",{className:"submit",onClick:function(){return i(l,O)},children:"Log in"}),Object(j.jsx)("p",{id:"or",children:Object(j.jsx)("span",{children:"or"})}),Object(j.jsxs)("button",{id:"logInGoogle",className:"submit",onClick:function(){return B.signInWithPopup(F)},children:[Object(j.jsx)("img",{id:"googleLogo",src:P,alt:"Login with Google"}),!p&&"Login with Google"]})]})}function T(){var e=Object(E.b)(B),t=Object(u.a)(e,4),i=t[0],c=t[1],a=t[2],s=t[3],r=Object(n.useState)(null),o=Object(u.a)(r,2),l=o[0],d=o[1],h=Object(n.useState)(""),b=Object(u.a)(h,2),O=b[0],m=b[1],p=Object(n.useState)(null),x=Object(u.a)(p,2),f=x[0],S=x[1],g=Object(n.useState)(!1),v=Object(u.a)(g,2),y=v[0],w=v[1],L=Object(n.useState)(!1),C=Object(u.a)(L,2),k=C[0],I=C[1];return c?Object(j.jsx)("div",{children:"Unexpectedly signed in already"}):a?Object(j.jsx)("p",{children:"Signing up\u2026"}):Object(j.jsxs)("div",{children:[s&&Object(j.jsxs)("p",{children:['"Error signing up: " ',s.message]}),Object(j.jsxs)("div",{className:"inputs",children:[Object(j.jsx)("input",{type:"text",id:"email",placeholder:"Email",onChange:function(e){return d(e.target.value)}}),Object(j.jsx)("input",{type:"password",id:"password",placeholder:"Password",onChange:function(e){return m(e.target.value)}}),Object(j.jsx)("input",{type:"password",id:"verify password",placeholder:"Verify Password",onChange:function(e){S(e.target.value)}}),O.length>0?O===f?O.length<9?Object(j.jsx)("p",{className:"passwordHint",children:"Passwords must be greater than 8 characters."}):Object(j.jsx)("p",{className:"passwordHint",children:"Passwords match!"}):Object(j.jsx)("p",{className:"passwordHint",children:"Oops, your passwords don't match..."}):"",y&&Object(j.jsx)("p",{children:" Passwords must match."}),k&&Object(j.jsx)("p",{children:" Password must be greater than 8 characters."})]}),Object(j.jsx)("button",{className:"submit",onClick:function(){O===f?O.length>8?i(l,O):I(!0):w(!0)},children:"Sign Up"})]})}function G(e){var t=Object(n.useState)(" "),i=Object(u.a)(t,2),c=i[0],a=i[1],s=Object(n.useState)(" "),h=Object(u.a)(s,2),b=h[0],O=h[1],m=Object(n.useState)("created"),p=Object(u.a)(m,2),f=p[0],S=p[1],g=Object(n.useState)("desc"),v=Object(u.a)(g,2),C=v[0],k=v[1],E=Object(n.useState)("created"),P=Object(u.a)(E,2),F=P[0],H=P[1],T=Object(n.useState)("desc"),G=Object(u.a)(T,2),K=G[0],M=G[1],V=Object(n.useState)(null),Z=Object(u.a)(V,2),z=Z[0],J=Z[1],Y=Object(n.useState)([]),Q=Object(u.a)(Y,2),$=Q[0],_=Q[1],R=A.collection(W).doc(c).collection(U).orderBy(f,C),q=A.collection(W).doc(c).collection(U),X=Object(w.a)(R),ee=Object(u.a)(X,3),te=ee[0],ie=ee[1],ne=(ee[2],A.collection(W).where("owner","==",e.user.uid).orderBy(F,K)),ce=(A.collection(W),Object(w.a)(ne)),ae=Object(u.a)(ce,3),se=ae[0],re=ae[1],oe=ae[2],le=A.collection(W).where("sharedWith","array-contains",e.user.email).orderBy(F,K),de=Object(w.a)(le),ue=Object(u.a)(de,3),he=ue[0],je=ue[1],be=ue[2],Oe=[],me=[],pe=[];function xe(t,i){var n=A.collection(W).doc(t),c=me.filter((function(e){return e.id===t}));i=i.filter((function(t){return t!==e.user.email})),n.update({sharedWith:[].concat(Object(l.a)(c[0].sharedWith),Object(l.a)(i))})}function fe(e,t,i){var n=A.collection(W).doc(e),c=[];c=i?me.filter((function(t){return t.id===e})):pe.filter((function(t){return t.id===e})),n.update({sharedWith:c[0].sharedWith.filter((function(e){return e!==t}))}),_($.filter((function(e){return e!==t})))}function Se(e){var t,i=Object(o.a)(e);try{for(i.s();!(t=i.n()).done;){var n=t.value;q.doc(n).delete()}}catch(c){i.e(c)}finally{i.f()}}te&&(Oe=te.docs.map((function(e){return e.data()}))),se&&(me=se.docs.map((function(e){return e.data()}))),he&&e.user.emailVerified&&(pe=he.docs.map((function(e){return e.data()})));var ge=Object(L.b)({loading:!0,indicator:Object(j.jsx)(L.a,{width:"30"})}),ve=ge.containerProps,ye=ge.indicatorEl;return ie?Object(j.jsxs)("div",{className:"loading",children:[Object(j.jsx)("h1",{children:" Hang tight..."}),Object(j.jsxs)("section",Object(d.a)(Object(d.a)({},ve),{},{children:[ye," "]}))]}):Object(j.jsx)("div",{id:"app",children:" "!==c?Object(j.jsx)(x.CSSTransitionGroup,{transitionName:"fade",transitionEnter:300,transitionLeave:300,children:Object(j.jsx)(y,{data:Oe,id:c,onItemAdded:function(e,t){var i=Object(N.a)(),n={id:i,item:e,checked:!1,created:D.a.firestore.FieldValue.serverTimestamp(),priority:t};q.doc(i).set(n)},onItemsDeleted:Se,onItemChanged:function(e,t,i){q.doc(e).update(Object(r.a)({},t,i))},onSortItems:function(e){var t=e.split(" "),i=Object(u.a)(t,2),n=i[0],c=i[1];S(n),k(c)},onListNameChanged:function(e,t){O(t),A.collection(W).doc(e).update({name:t})},sortDirection:C,sortField:f,setSelectedListID:a,selectedListName:b,setSelectedListName:O,onListShared:xe,onListUnshared:fe,showShareScreenID:z,setShowShareScreenID:J,showShareScreenEmails:me.filter((function(e){return e.id===c})).length>0?me.filter((function(e){return e.id===c}))[0].sharedWith:null})}):Object(j.jsx)(I,{db:A,loading:re,error:oe,data:me,sharedData:pe,sharedLoading:je,sharedError:be,user:e.user,auth:B,verifyEmail:e.verifyEmail,collectionName:W,setSelectedListID:a,setSelectedListName:O,collection:q,onListAdded:function(t){var i=Object(N.a)(),n={id:i,name:t,created:D.a.firestore.FieldValue.serverTimestamp(),owner:e.user.uid,sharedWith:[]};A.collection(W).doc(i).set(n)},onListDeleted:function(e){var t=A.collection(W).doc(e);Se(Oe.map((function(e){return e.id}))),t.delete()},sortListField:F,sortListDirection:K,setSortListField:H,setSortListDiretion:M,onSortLists:function(e){var t=e.split(" "),i=Object(u.a)(t,2),n=i[0],c=i[1];H(n),M(c)},onListShared:xe,onListUnshared:fe,showShareScreenID:z,setShowShareScreenID:J,showShareScreenEmails:$,setShowShareScreenEmails:_})})}var K=function(){var e=Object(E.a)(B),t=Object(u.a)(e,3),i=t[0],n=t[1],c=t[2],a=Object(L.b)({loading:!0,indicator:Object(j.jsx)(L.a,{width:"30"})}),s=a.containerProps,r=a.indicatorEl;return n?Object(j.jsxs)("div",{className:"loading",children:[Object(j.jsx)("h1",{children:" Hang tight..."}),Object(j.jsxs)("section",Object(d.a)(Object(d.a)({},s),{},{children:[r," "]}))]}):i?Object(j.jsx)("div",{children:Object(j.jsx)(G,{user:i,verifyEmail:function(){B.currentUser.sendEmailVerification()}})}):Object(j.jsxs)("div",{id:"signInPage",children:[c&&Object(j.jsxs)("p",{children:["Error App: ",c.message]}),Object(j.jsx)("h1",{id:"title",children:"To-Do List"}),Object(j.jsxs)("div",{id:"signInUp",children:[Object(j.jsxs)("div",{id:"signIn",children:[Object(j.jsx)("h2",{children:"Have an account? Sign in!"}),Object(j.jsx)(H,{},"Sign In")]}),Object(j.jsxs)("div",{id:"signUp",children:[Object(j.jsx)("h2",{children:"Don't have one? Sign up!"}),Object(j.jsx)(T,{},"Sign Up")]})]})]})},M=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,84)).then((function(t){var i=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;i(e),n(e),c(e),a(e),s(e)}))};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(K,{initialData:[{id:0,item:"Buy new John Grisham Book",checked:!1},{id:1,item:"Buy newer John Grisham Book",checked:!0}]})}),document.getElementById("root")),M()}},[[83,1,2]]]);
//# sourceMappingURL=main.a54b7feb.chunk.js.map